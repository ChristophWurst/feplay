webpackJsonp([1],[/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
function(t,e,n){(function(t){"use strict";n(/*! ./RiotControl.js */4),n(/*! ./stores.js */2),n(/*! ./app.html */8),t.mount("app")}).call(e,n(/*! riot */1))},,/*!***********************!*\
  !*** ./src/stores.js ***!
  \***********************/
function(t,e,n){"use strict";var o=function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(/*! ./store/blogstore */5),r=o(i),a={blog:r["default"]};e["default"]=a,t.exports=e["default"]},/*!*************************************!*\
  !*** ./src/component/postcell.html ***!
  \*************************************/
function(t,e,n){(function(t){t.tag("postcell",'<div> <span>Id: {opts.data.postId}</span> <span>Title: <a href="#detail/{opts.data.postId}">{opts.data.title}</a></span> <span>{opts.data.likes} Likes</span> <button onclick="{likePost}">Like</button> </div>',function(e){this.likePost=function(){t.control.trigger(t.VE.LIKE_POST,e.data.postId)}})}).call(e,n(/*! riot */1))},/*!****************************!*\
  !*** ./src/RiotControl.js ***!
  \****************************/
function(t,e,n){(function(t){"use strict";var e=["on","one","off","trigger"],n={_stores:[],addStore:function(t){this._stores.push(t)}};e.forEach(function(t){n[t]=function(){var e=[].slice.call(arguments);this._stores.forEach(function(n){return n[t].apply(null,e)})}}),t.control=n,t.SE={POSTS_CHANGED:"se_posts_changed"},t.VE={RESET_DATA:"ve_reset_data",LIKE_POST:"ve_like_post",LOAD_POSTS:"ve_load_posts"}}).call(e,n(/*! riot */1))},/*!********************************!*\
  !*** ./src/store/blogstore.js ***!
  \********************************/
function(t,e,n){(function(n){"use strict";function o(){var t=this;if(!(this instanceof o))return new o;n.observable(this);var e=function(){window.localStorage.setItem(i,JSON.stringify(t._posts))},r=function(){var n=[{postId:1,title:"Best xbox games",content:"Halo, GOW",category:"collection",likes:10},{postId:2,title:"Best ps games",content:"Uncharted, The Last of US",category:"collection",likes:20},{postId:3,title:"Best wii games",content:"Zelda, Mario",category:"collection",likes:16},{postId:4,title:"Review of Halo",content:"yes, cortana",category:"review",likes:11},{postId:5,title:"Review of Titanfall",content:"where is the local game?",category:"review",likes:7},{postId:6,title:"Review of portal",content:"I don't blame you",category:"review",likes:40}];t._posts=n,e()},a=window.localStorage.getItem(i);a?this._posts=a&&JSON.parse(a)||[]:r(),this.on(n.VE.LOAD_POSTS,function(){t.trigger(n.SE.POSTS_CHANGED,t._posts)}),this.on(n.VE.RESET_DATA,function(){r(),t.trigger(n.SE.POSTS_CHANGED,t._posts)}),this.on(n.VE.LIKE_POST,function(o){t._posts.forEach(function(t){t.postId==o&&(t.likes=t.likes+1)}),e(),t.trigger(n.SE.POSTS_CHANGED,t._posts)}),this.getPostById=function(e){return t._posts.filter(function(t){return t.postId==e})[0]}}Object.defineProperty(e,"__esModule",{value:!0});var i="riot-webpack-demo",r=o();n.control.addStore(r),e["default"]=r,t.exports=e["default"]}).call(e,n(/*! riot */1))},,,/*!**********************!*\
  !*** ./src/app.html ***!
  \**********************/
function(t,e,n){(function(t){t.tag("app",'<section> <header> <nav> <ul> <li><a href="#posts">Posts</a></li> <li><a href="#categories">Categories</a></li> </ul> </nav> </header> <article> <div id="mainview"></div> </article> <footer> <nav> <a onclick="{resetData}">Reset Data</a> </nav> </footer> </section>',function(e){var o=this;n(/*! ./view/posts-view.html */11),n(/*! ./view/categories-view.html */9),n(/*! ./view/detail-view.html */10),this._currentView=null,this.resetData=function(){t.control.trigger(t.VE.RESET_DATA)},loadView=function(e,n){o._currentView&&o._currentView.unmount(!0),o._currentView=t.mountTo("div#mainview",e,{data:n})[0]},studyRoute=function(t,e){switch(t){case"categories":loadView("categories-view");break;case"detail":loadView("detail-view",e);break;case"posts":loadView("posts-view");break;default:loadView("posts-view")}},t.route(studyRoute),this.on("mount",function(){t.route.exec(studyRoute)})})}).call(e,n(/*! riot */1))},/*!***************************************!*\
  !*** ./src/view/categories-view.html ***!
  \***************************************/
function(t,e,n){(function(t){t.tag("categories-view",'<div each="{category, posts in _postsInCategories}"> <h3>{category}</h3> <postcell each="{posts}" data="{this}"></postcell> <hr> </div>',function(e){var o=this;n(/*! ../component/postcell.html */3),this._postsInCategories={},this.on("mount",function(){t.control.trigger(t.VE.LOAD_POSTS)}),t.control.on(t.SE.POSTS_CHANGED,function(t){o._postsInCategories=t.reduce(function(t,e){return t[e.category]=t[e.category]||[],t[e.category].push(e),t},{}),o.update()})})}).call(e,n(/*! riot */1))},/*!***********************************!*\
  !*** ./src/view/detail-view.html ***!
  \***********************************/
function(t,e,n){(function(t){t.tag("detail-view",'<h2>{_post.title}</h2> <p>{_post.content}</p> <p>{_post.likes} Likes</p> <a if="{ opts.data > 1 }" href="#detail/{ opts.data - 1 }">Previous Post</a> | <a if="{ opts.data < _total }" href="#detail/{ opts.data - -1 }">Next Post</a>',function(e){var o=this,i=function(t){return t&&t.__esModule?t:{"default":t}},r=n(/*! ../stores */2),a=i(r);t.control.on(t.SE.POSTS_CHANGED,function(t){o.readData()}),this.readData=function(){o._post=a["default"].blog.getPostById(e.data),o._total=a["default"].blog._posts.length,o.update()},this.readData()})}).call(e,n(/*! riot */1))},/*!**********************************!*\
  !*** ./src/view/posts-view.html ***!
  \**********************************/
function(t,e,n){(function(t){t.tag("posts-view",'<postcell each="{_posts}" data="{this}"></postcell>',function(e){var o=this;n(/*! ../component/postcell.html */3),this._posts=[],this.on("mount",function(){t.control.trigger("ve_load_posts")}),t.control.on(t.SE.POSTS_CHANGED,function(t){o._posts=t,o.update()})})}).call(e,n(/*! riot */1))}]);
//# sourceMappingURL=bundle.js.map