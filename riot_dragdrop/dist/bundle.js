!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/dist/",t(0)}([/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
function(e,t,n){(function(e){n(/*! ./app.html */2),e.mount("app")}).call(t,n(/*! riot */1))},/*!************************!*\
  !*** ./~/riot/riot.js ***!
  \************************/
function(e,t,n){!function(t){function n(e){var t={val:e},n=e.split(/\s+in\s+/);return n[1]&&(t.val=_(0)+n[1],n=n[0].slice(_(0).length).trim().split(/,\s*/),t.key=n[0],t.pos=n[1]),t}function i(e,t,n){var i={};return i[e.key]=t,e.pos&&(i[e.pos]=n),i}function r(e,t,r){function o(e,t,n){d.splice(e,0,t),m.splice(e,0,n)}p(e,"each");var u,c=e.outerHTML,f=e.previousSibling,l=e.parentNode,d=[],m=[];r=n(r),t.one("update",function(){l.removeChild(e)}).one("premount",function(){l.stub&&(l=t.root)}).on("update",function(){var e=C(r.val,t);if(e){if(!Array.isArray(e)){var n=JSON.stringify(e);if(n==u)return;u=n,s(m,function(e){e.unmount()}),d=[],m=[],e=Object.keys(e).map(function(t){return i(r,t,e[t])})}s(d,function(t){if(t instanceof Object){if(e.indexOf(t)>-1)return}else{var n=g(e,t),i=g(d,t);if(n.length>=i.length)return}var r=d.indexOf(t),o=m[r];return o?(o.unmount(),d.splice(r,1),m.splice(r,1),!1):void 0});var p=[].indexOf.call(l.childNodes,f)+1;s(e,function(n,f){var s=e.indexOf(n,f),v=d.indexOf(n,f);if(0>s&&(s=e.lastIndexOf(n,f)),0>v&&(v=d.lastIndexOf(n,f)),!(n instanceof Object)){var h=g(e,n),b=g(d,n);h.length>b.length&&(v=-1)}var y=l.childNodes;if(0>v){if(!u&&r.key)var w=i(r,n,s);var x=new a({tmpl:c},{before:y[p+s],parent:t,root:l,item:w||n});return x.mount(),o(s,n,x),!0}return r.pos&&m[v][r.pos]!=s&&(m[v].one("update",function(e){e[r.pos]=s}),m[v].update()),s!=v?(l.insertBefore(y[p+v],y[p+(s>v?s+1:s)]),o(s,d.splice(v,1)[0],m.splice(v,1)[0])):void 0}),d=e.slice()}})}function o(e,t,n){v(e,function(e){if(1==e.nodeType){var i=b(e);if(i&&!e.getAttribute("each")){var r=new a(i,{root:e,parent:t}),o=e.getAttribute("name")||i.name,u=t.tags[o];u?(Array.isArray(u)||(t.tags[o]=[u]),t.tags[o].push(r)):t.tags[o]=r,e.innerHTML="",n.push(r)}s(e.attributes,function(n){/^(name|id)$/.test(n.name)&&(t[n.value]=e)})}})}function u(e,t,n){function i(e,t,i){if(t.indexOf(_(0))>=0){var r={dom:e,expr:t};n.push(d(r,i))}}v(e,function(e){var n=e.nodeType;if(3==n&&"STYLE"!=e.parentNode.tagName&&i(e,e.nodeValue),1==n){var o=e.getAttribute("each");return o?(r(e,t,o),!1):(s(e.attributes,function(t){var n=t.name,r=n.split("__")[1];return i(e,t.value,{attr:r||n,bool:r}),r?(p(e,n),!1):void 0}),b(e)?!1:void 0)}})}function a(e,t){function n(e){s(Object.keys(_),function(e){c[e]=C(_[e],p||a)})}function i(e){if(s(g,function(t){t[e?"mount":"unmount"]()}),p){var t=e?"on":"off";p[t]("update",a.update)[t]("unmount",a.unmount)}}var r,a=x.observable(this),c=h(t.opts)||{},f=m(e.tmpl),p=t.parent,v=[],g=[],b=t.root,y=t.item,w=e.fn,_={};w&&b.riot||(b.riot=!0,this._id=~~((new Date).getTime()*Math.random()),d(this,{parent:p,root:b,opts:c,tags:{}},y),s(b.attributes,function(e){_[e.name]=e.value}),this.update=function(e,t){d(a,e,y),n(),a.trigger("update",y),l(v,a,y),a.trigger("updated")},this.mount=function(){if(n(),w&&w.call(a,c),i(!0),u(f,a,v),a.update(),a.trigger("premount"),w)for(;f.firstChild;)b.appendChild(f.firstChild);else r=f.firstChild,b.insertBefore(r,t.before||null);b.stub&&(a.root=b=p.root),a.trigger("mount")},this.unmount=function(){var e=w?b:r,t=e.parentNode,n=b.tagName.toLowerCase();if(t)if(p)Array.isArray(p.tags[n])?s(p.tags[n],function(e,t){e._id==a._id&&p.tags[n].splice(t,1)}):delete p.tags[n],t.removeChild(e);else{for(;e.firstChild;)e.removeChild(e.firstChild);t.removeChild(e)}a.trigger("unmount"),i(),a.off("*"),delete b.riot},o(f,this,g))}function c(e,n,i,r,o){i[e]=function(e){e=e||t.event,e.which=e.which||e.charCode||e.keyCode,e.target=e.target||e.srcElement,e.currentTarget=i,e.item=o,n.call(r,e)===!0||/radio|check/.test(i.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1);var u=o?r.parent:r;u.update()}}function f(e,t,n){e&&(e.insertBefore(n,t),e.removeChild(t))}function l(e,t,n){s(e,function(e){var i=e.dom,r=e.attr,o=C(e.expr,t),u=e.dom.parentNode;if(null==o&&(o=""),u&&"TEXTAREA"==u.tagName&&(o=o.replace(/riot-/g,"")),e.value!==o){if(e.value=o,!r)return i.nodeValue=o;if(p(i,r),"function"==typeof o)c(r,o,i,t,n);else if("if"==r){var a=e.stub;o?a&&f(a.parentNode,a,i):(a=e.stub=a||document.createTextNode(""),f(i.parentNode,i,a))}else if(/^(show|hide)$/.test(r))"hide"==r&&(o=!o),i.style.display=o?"":"none";else if("value"==r)i.value=o;else if("riot-"==r.slice(0,5))r=r.slice(5),o?i.setAttribute(r,o):p(i,r);else{if(e.bool){if(i[r]=o,!o)return;o=r}"object"!=typeof o&&i.setAttribute(r,o)}}})}function s(e,t){for(var n,i=0,r=(e||[]).length;r>i;i++)n=e[i],null!=n&&t(n,i)===!1&&i--;return e}function p(e,t){e.removeAttribute(t)}function d(e,t,n){return t&&s(Object.keys(t),function(n){e[n]=t[n]}),n?d(e,n):e}function m(e){var t=e.trim().slice(1,3).toLowerCase(),n=/td|th/.test(t)?"tr":"tr"==t?"tbody":"div",i=document.createElement(n);return i.stub=!0,i.innerHTML=e,i}function v(e,t){if(e)if(t(e)===!1)v(e.nextSibling,t);else for(e=e.firstChild;e;)v(e,t),e=e.nextSibling}function g(e,t){return e.filter(function(e){return e===t})}function h(e){function t(){}return t.prototype=e,new t}function b(e){return N[e.tagName.toLowerCase()]}function y(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)}function w(e,t,n){var i=N[t];return i&&e&&(i=new a(i,{root:e,opts:n})),i&&i.mount?(i.mount(),O.push(i),i.on("unmount",function(){O.splice(O.indexOf(i),1)})):void 0}var x={version:"v2.0.14",settings:{}};x.observable=function(e){e=e||{};var t={},n=0;return e.on=function(i,r){return"function"==typeof r&&(r._id="undefined"==typeof r._id?n++:r._id,i.replace(/\S+/g,function(e,n){(t[e]=t[e]||[]).push(r),r.typed=n>0})),e},e.off=function(n,i){return"*"==n?t={}:n.replace(/\S+/g,function(e){if(i)for(var n,r=t[e],o=0;n=r&&r[o];++o)n._id==i._id&&(r.splice(o,1),o--);else t[e]=[]}),e},e.one=function(t,n){function i(){e.off(t,i),n.apply(e,arguments)}return e.on(t,i)},e.trigger=function(n){for(var i,r=[].slice.call(arguments,1),o=t[n]||[],u=0;i=o[u];++u)i.busy||(i.busy=1,i.apply(e,i.typed?[n].concat(r):r),o[u]!==i&&u--,i.busy=0);return t.all&&"all"!=n&&e.trigger.apply(e,["all",n].concat(r)),e},e},function(e,t,n){function i(){return a.href.split("#")[1]||""}function r(e){return e.split("/")}function o(e){e.type&&(e=i()),e!=u&&(c.trigger.apply(null,["H"].concat(r(e))),u=e)}if(n){var u,a=n.location,c=e.observable(),f=n,l=e.route=function(e){e[0]?(a.hash=e,o(e)):c.on("H",e)};l.exec=function(e){e.apply(null,r(i()))},l.parser=function(e){r=e},f.addEventListener?f.addEventListener(t,o,!1):f.attachEvent("on"+t,o)}}(x,"hashchange",t);var _=function(e,t,n){return function(i){return t=x.settings.brackets||e,n!=t&&(n=t.split(" ")),i&&i.test?t==e?i:RegExp(i.source.replace(/\{/g,n[0].replace(/(?=.)/g,"\\")).replace(/\}/g,n[1].replace(/(?=.)/g,"\\")),i.global?"g":""):n[i]}}("{ }"),C=function(){function e(e,t){return e=(e||_(0)+_(1)).replace(_(/\\{/g),"￰").replace(_(/\\}/g),"￱"),t=r(e,o(e,_(/{/),_(/}/))),new Function("d","return "+(t[0]||t[2]||t[3]?"["+t.map(function(e,t){return t%2?n(e,!0):'"'+e.replace(/\n/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':n(t[1])).replace(/\uFFF0/g,_(0)).replace(/\uFFF1/g,_(1))+";")}function n(e,t){return e=e.replace(/\n/g," ").replace(_(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(e)?"["+o(e,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(e){return e.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(e,t,n){return n.replace(/[^&|=!><]+/g,i)+'?"'+t+'":"",'})}).join("")+'].join(" ").trim()':i(e,t)}function i(e,n){return e=e.trim(),e?"(function(v){try{v="+(e.replace(a,function(e,n,i){return i?"(d."+i+"===undefined?"+("undefined"==typeof t?"global.":"window.")+i+":d."+i+")":e})||"x")+"}finally{return "+(n===!0?'!v&&v!==0?"":v':"v")+"}}).call(d)":""}function r(e,t){var n=[];return t.map(function(t,i){i=e.indexOf(t),n.push(e.slice(0,i),t),e=e.slice(i+t.length)}),n.concat(e)}function o(e,t,n){var i,r=0,o=[],u=new RegExp("("+t.source+")|("+n.source+")","g");return e.replace(u,function(t,n,u,a){!r&&n&&(i=a),r+=n?1:-1,r||null==u||o.push(e.slice(i,a+u.length))}),o}var u={},a=/(['"\/]).*?[^\\]\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function *\()|([a-z_$]\w*)/gi;return function(t,n){return t&&(u[t]=u[t]||e(t))(n)}}(),O=[],N={};x.tag=function(e,t,n,i){return"function"==typeof n?i=n:n&&y(n),N[e]={name:e,tmpl:t,fn:i},e},x.mount=function(e,t,n){function i(e){var i=t||e.tagName.toLowerCase(),o=w(e,i,n);o&&r.push(o)}"*"==e&&(e=Object.keys(N).join(", ")),"object"==typeof t&&(n=t,t=0);var r=[];return e.tagName?(i(e),r[0]):(s("string"==typeof e?document.querySelectorAll(e):e,i),r)},x.update=function(){return s(O,function(e){e.update()})},x.mountTo=x.mount,x.util={brackets:_,tmpl:C},e.exports=x}("undefined"!=typeof window?window:void 0)},/*!**********************!*\
  !*** ./src/app.html ***!
  \**********************/
function(e,t,n){(function(e){e.tag("app",'<ul id="list"> <li style="cursor: pointer;" each="{_items}">{name}</li> </ul> <hr> <div id="hlist"> <span each="{_items}">{name} | </span> </div> <hr> <button onclick="{moveLastToFirst}">Move Last To First</button>',function(e){var t=this;t._items=[{name:"c#"},{name:"swift"},{name:"golang"},{name:"python"},{name:"javascript"}];var n={onEnd:function(e){console.log("move from",e.oldIndex,"to",e.newIndex),t._items.splice(e.newIndex,0,t._items.splice(e.oldIndex,1)[0]);var n=t._items;t._items=[],t.update(),t._items=n,t.update()}};this.moveLastToFirst=function(){t._items.splice(0,0,t._items.splice(t._items.length-1,1)[0]),console.log(t._items)}.bind(this),t.on("mount",function(){Sortable.create(t.list,n),Sortable.create(t.hlist,n)})})}).call(t,n(/*! riot */1))}]);
//# sourceMappingURL=bundle.js.map